Pipeline as a code:

    This is a way of setting up a pipeline automatically in a file called Jenkinsfile, this file can either be put in
    the source code or can be written as a job in jenkins.

    This file defines the stages in the CI/CD stages

    We are going to use declarative way of writing the Jenkinsfile

    Concepts:
        Pipeline: The main block of code and everything outside will be executed by jenkins

        Node/Agent: They are settings and, you can define the node where the pipeline will be executed

        Stage: This where the actual execution happens

        Steps: these are the commands


            pipeline {

                agent{
                    this is where the job is going to run
                }

                tools {
                    this the tools you want to use like jdk
                }

                environment {
                    this is where you put the environment variable
                }

                stages {
                    The steps will be here
                }
            }

    Example
         pipeline {
            agent {
                label "master"
            }

            tools {
                maven "Maven"
            }
         }







    Hint tools have "" and others have ''

    Use java-1.8.0-openjdk-amd64 for this pipeline

    Every build has its own workspace



Code Analysis:

    This is a kind of test that will be conducted on the code, it is different from software testing.

    It will flag the Vulnerabilities, check for bugs.


    We are going CheckStyle and Sonarqube


    Go too Tools:

        Add Sonarqube Scanner

            Name: sonar4.7
            version: 4.7.0.2747

    Go to configure system to integrate with jenkins

        Go to SonarQube servers

            tick the environment variables

            name: sonar

            server_url: http://public_ip

            Now to sonarqube page click on my account> administration > security > generate tokens

            Use secret text in jenkins

            id: MySonarToken # use it for description too


    Check the code analysis jenkins and create a new job using it


SonarQube Quality Gates